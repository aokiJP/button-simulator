{"version":3,"sources":["system/command.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAC1C,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,YAAY,CAAC;AAE/C,MAAM,MAAM,GAAG,GAAG,CAAC;AAEnB,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE;IAC3C,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;IACvC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC;QAAE,OAAO;IACxC,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC;IACjB,QAAQ,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;QAChC,KAAK,OAAO,CAAC,CAAC;YACZ,KAAK,MAAM,KAAK,IAAI,UAAU,EAAE;gBAC9B,MAAM,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aACrC;YACD,KAAK,MAAM,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;gBACvC,MAAM,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;aACpC;YACD,MAAM;SACP;QACD,KAAK,KAAK,CAAC,CAAC;YACV,MAAM,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC;YACvC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAAE,OAAO;YAC1C,KAAK,MAAM,KAAK,IAAI,UAAU,EAAE;gBAC9B,IAAI,KAAK,IAAI,WAAW,IAAI,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC;oBAAE,SAAS;gBAC5D,MAAM,CAAC,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACvD;YACD,MAAM;SACP;KACF;AACH,CAAC,CAAC,CAAC;AAEH,SAAS,YAAY,CAAC,KAAa;IACjC,MAAM,KAAK,GAAa,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAElD,OAAO,KAAK,CAAC;AACf,CAAC","file":"../../buttonAddon/scripts/system/command.js","sourcesContent":["import { world } from \"@minecraft/server\";\nimport { gains, properties } from \"../configs\";\n\nconst prefix = \"!\";\n\nworld.beforeEvents.chatSend.subscribe((ev) => {\n  const { message, sender: player } = ev;\n  if (!message.startsWith(prefix)) return;\n  ev.cancel = true;\n  switch (splitMessage(message)[0]) {\n    case \"reset\": {\n      for (const Class in properties) {\n        player.setDynamicProperty(Class, 0);\n      }\n      for (const gain of Object.values(gains)) {\n        player.setDynamicProperty(gain, 0);\n      }\n      break;\n    }\n    case \"add\": {\n      const commands = splitMessage(message);\n      if (!(commands[1] || commands[2])) return;\n      for (const Class in properties) {\n        if (Class == \"playerInf\" || Class !== commands[1]) continue;\n        player.setDynamicProperty(Class, Number(commands[2]));\n      }\n      break;\n    }\n  }\n});\n\nfunction splitMessage(input: string): string[] {\n  const parts: string[] = input.slice(1).split(\" \");\n\n  return parts;\n}\n"],"sourceRoot":"../../../../scripts/"}