{"version":3,"sources":["form/gain.ts"],"names":[],"mappings":"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","file":"../../buttonAddon/scripts/form/gain.js","sourcesContent":["import { Player } from \"@minecraft/server\";\nimport { ActionFormData, MessageFormData } from \"@minecraft/server-ui\";\nimport { gains, properties, propertiesArray } from \"../configs\";\nimport { getScoreNumber } from \"../lib/getScore\";\nimport { Form } from \"./configs\";\nimport { formatNumberWithExponent } from \"../lib/formatNumber\";\n\nlet GainString: string = \"\";\nlet cost: number = 0;\n\nexport function gain(player: Player) {\n  const form = new ActionFormData();\n  form.title(`§l§cAuto Gain`);\n  for (const gain in gains) {\n    switch (gain) {\n      case \"rebirths\": {\n        form.button(`§l§1${gain}\\ncost: 10e3`);\n        break;\n      }\n      case \"superRebirths\": {\n        form.button(`§l§2${gain}\\ncost: 500e3`);\n        break;\n      }\n      case \"ultra\": {\n        form.button(`§l§d${gain}\\ncost: 2e6`);\n        break;\n      }\n      case \"prestige\": {\n        form.button(`§l§b${gain}\\ncost: 2e9`);\n        break;\n      }\n      case \"grass\": {\n        form.button(`§l§a${gain}\\ncost: 2e12`);\n        break;\n      }\n      case \"plants\": {\n        form.button(`§l§e${gain}\\ncost: 2e15`);\n        break;\n      }\n      case \"flowers\": {\n        form.button(`§l§6${gain}\\ncost: 2e18`);\n        break;\n      }\n      case \"bones\": {\n        form.button(`§l${gain}\\ncost: 2e21`);\n        break;\n      }\n    }\n  }\n\n  form.show(player).then(({ selection, canceled }) => {\n    if (canceled) return;\n    if (selection == undefined) return;\n    switch (selection + 1) {\n      case 1: {\n        GainString = propertiesArray[1];\n        cost = 10e3;\n        break;\n      }\n      case 2: {\n        GainString = propertiesArray[2];\n        cost = 500e3;\n        break;\n      }\n      case 3: {\n        GainString = propertiesArray[3];\n        cost = 2e6;\n        break;\n      }\n      case 4: {\n        GainString = propertiesArray[4];\n        cost = 2e9;\n        break;\n      }\n      case 5: {\n        GainString = propertiesArray[5];\n        cost = 2e12;\n        break;\n      }\n      case 6: {\n        GainString = propertiesArray[6];\n        cost = 2e15;\n        break;\n      }\n      case 7: {\n        GainString = propertiesArray[7];\n        cost = 2e18;\n        break;\n      }\n      case 8: {\n        GainString = propertiesArray[8];\n        cost = 2e21;\n        break;\n      }\n    }\n    gainAdd(player);\n  });\n}\n\nfunction gainAdd(player: Player) {\n  const form = new MessageFormData();\n  form.body(\n    `You fulfil the conditions for release. Do you want to release a new system?\\nYou will lose ${formatNumberWithExponent(\n      cost\n    )} point. Are you OK?`\n  );\n  form.button2(`yes`);\n  form.button1(`no`);\n  form.show(player).then(({ selection, canceled }) => {\n    if (canceled) return;\n    if (!selection) return;\n    for (const [key, values] of Object.entries(gains)) {\n      if (key !== GainString) continue;\n      const point = getScoreNumber(player, properties.point);\n      if (point < cost) {\n        shortage(player);\n        return;\n      }\n      player.setDynamicProperty(values, true);\n      player.setDynamicProperty(properties.point, point - cost);\n    }\n  });\n}\n\nfunction shortage(player: Player) {\n  const form = new MessageFormData();\n  const point = getScoreNumber(player, properties.point);\n  form.title(`§lspoint hortage`);\n  form.body(`Not enough points.\\nNumber of points needed: ${formatNumberWithExponent(cost - point)}`);\n  form.button2(`§lreturn`);\n  form.button1(`§lclose`);\n\n  form.show(player).then(({ selection, canceled }) => {\n    if (canceled) return;\n    if (selection) Form.menu(player);\n  });\n}\n"],"sourceRoot":"../../../../scripts/"}